# SK15_Forensic_Team
SK쉴더스 루키즈 15기 최종 프로젝트
## 개요
- 주제 : ```MS Exchange 서버 공격 시연 및 침해사고 분석```
- 진행 기간 : ```2023.11 ~ 2023.12```
- 참여 인원 : ```10명```
- 역할 : ```Active Directory 공격 / 침해사고 분석 / 분석보고서 작성```

</br>

## 팀프로젝트 소개
- Exchange 서버 취약점(CVE-2021-26855 & CVE-2021-27065)을 이용한 공격 시나리오 구성
- Exchange 서버와 Active Directory 침투 후 OU존 사용자 정보 수집 및 랜섬웨어 배포 등 악의적인 행위 시행
- 침해사고 분석을 공격단계별 분석하여 대응방안 및 솔루션 제시
- 침해사고 상세 분석 보고서 작성

#### 인프라 구축 정보
|시스템|역할|OS|버전|
|:---:|:---:|:---:|:---:|
|Exchange 서버|OWA / 메일 사서함|Windows Server 2016|Microsoft Exchange 2016 cu19 KB4588884|
|Active Directory|OU 연결 자원 관리|Windows Server 2016|Standard Evaluation|
|DB 관리자 PC|데이터베이스 관리|Windows Server 2016|Standard Evaluation|
|DB 서버|고객 데이터베이스 저장|Ubuntu 20.04 LTS|MySQL 8.0|

#### 시스템 공격 프로세스
- 초기 정찰: 공격대상 취약점 스캐닝
- 초기 침투: 취약한 버전 Exchange 서버에 존재한 RCE 취약점을 이용해 Exchange 서버 침투 
- 거점 확보: RCE 취약점을 이용해 웹쉘 업로드하여 악의적인 행위 수행
- 내부 정찰 및 내부 확산: 공격 툴을 이용해 관리자 계정 획득하여 Active Directory로 침투 후 정책 배포를 통해 OU존 사용자 정보 수집 및 랜섬웨어 배포 등의 악의적인 행위 수행
- 연결 유지: 백도어 악성파일 실행
- 목표 달성: DB관리자 PC로 접속하여 DB파일 탈취한 후 AD  배포 정책을 통해 랜섬웨어 실행

#### 침해사고 분석 및 분석보고서 작성
- 구축된 4가지의 시스템을 대상으로 침해사고 분석
- 아티팩트 수집 스크립트를 활용해 휘발성/비휘발성 데이터 수집 후 분석
- 분석결과 기반으로 침해사고 상세 분석보고서 작성

</br>

## 담당 역할 및 학습 내용
- Active Directory 공격
    + lsass.exe 덤프하여 Mimikatz 툴 이용해 관리자 계정 탈취
- Exchange 서버 시스템 대상으로 침해사고 분석
- 침해사고 상세 분석보고서 상세 조사 결과의 Exchange 서버 파트 내용 작성

</br>

## (실습과제)
- 팀프로젝트와 별도로 침해사고 분석 실습과제 병행
- 팀으로 리눅스 가상머신 분석 진행 (5명)
- 침해사고 보고서 산출물 도출
